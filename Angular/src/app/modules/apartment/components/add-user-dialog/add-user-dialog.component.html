<!--<mat-card>-->
<!--  <p>add-user-dialog works!</p>-->
<!--</mat-card>-->

<div class="cont">
  <mat-card>
    <div>Dodaj użytkownika</div>
    <span class="material-icons" [mat-dialog-close]="true" style="cursor: pointer">clear</span>
  </mat-card>
  <div class="body">
    <div class="search-input-wrapper">
      <mat-form-field class="search-input">
        <mat-label>Wyszukaj użytkownika</mat-label>
        <button mat-button matSuffix mat-icon-button>
          <span class="material-icons">search</span>
        </button>
        <input matInput autocomplete="off" [(ngModel)]="usernameSearch" (ngModelChange)="searchUsers()">
      </mat-form-field>
    </div>
    <div class="vertical-list-content-users">
      <mat-spinner *ngIf="usersLoading" style="margin-bottom: 15px; margin-left: 40%"></mat-spinner>
      <div class="vertical-list-content-item" *ngFor="let item of userList" (click)="chooseUser(item)"
      [ngClass]="{'chosen-item': item.id === chosenUser.id}">
        <p *ngIf="!usersLoading">{{item.username}}</p>
      </div>
      <div class="vertical-list-content-item" *ngIf="userList.length === 0">
        <p *ngIf="!usersLoading">Brak użytkowników</p>
      </div>
    </div>
    <div class="options-bar">
      <p *ngIf="chosenUser.id" style="font-size: 15px; font-weight: bold">Czy na pewno chcesz dodać użytkownika?
        {{chosenUser.username}}</p>
      <p *ngIf="!chosenUser.id"></p>
      <div class="buttons-wrapper">
        <button mat-raised-button class="red-button submit-button"
                *ngIf="chosenUser.id" (click)="submitUser()">Tak</button>
        <button mat-raised-button class="yellow-button submit-button" [mat-dialog-close]="true">Anuluj</button>
      </div>
    </div>
  </div>
</div>
